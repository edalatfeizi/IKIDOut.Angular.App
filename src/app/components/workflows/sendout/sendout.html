<div class="home">
    <!-- <div class="container-fluid">
      <div class="page-title">
        <div class="row">
          <div class="col-12 col-sm-6">
            <h3>ثبت خروج کالا</h3>
          </div>
        </div>
      </div>
    </div> -->
    <div class="container-fluid">
        <div class="page-title">
          <div class="row">
            <div class="col-12 col-sm-6">
              <h3> ثبت خروج کالا</h3>
            </div>
          </div>
        </div>
      </div>
      <div class="container-fluid" >
        <div class="row">
          <div class="col-sm-12">
            <div class="card" >
              <!-- <div class="card-header pb-0">
                    <h5>ثبت فرآیند جدید</h5>
                  </div> -->
              <div class="card-body" >
                <div class="form theme-form projectcreate">
                    <label>انتخاب فرآیند</label>
                    
                    <div class="row align-items-center">
                        <div class="col-sm-10">
                          <div class="mb-3">
                <select id="flowchartSelect" [(ngModel)]="selectedFlowchartId" (change)="showFlowchart(selectedFlowchartId)" >
                  <!-- <option value="" disabled>انتخاب فرآیند خروج کالا</option> -->
                  <option *ngFor="let flowchart of flowcharts$ | async" [value]="flowchart.id">
                    {{ flowchart.name }}
                  </option>
                </select>
                      </div>
                        </div>
                        <div class="col-sm-2">
                          <div class="mb-3">
                            <!-- <a class="btn btn-primary w-100" data-bs-toggle="modal" data-bs-target="#flowchartModal" (click)="showFlowchart(selectedFlowchartId)">
                              مشاهده فرآیند
                            </a> -->
                            <button class="btn btn-primary" type="button" data-bs-toggle="modal" data-bs-target="#exampleModalLong" data-bs-original-title="" title="">مشاهده فرآیند</button>
                          </div>
                        </div>
                      </div>
                      
                  <!-- <div class="row">
                    <div class="col">
                      <div class="btn btn-primary btn-block">
                          <span >ادامه</span>
                      
                      </div>
                      <div class="text-end"><a (click)="validate(processName.value, processDesc.value)" class="btn btn-primary m-r-15" href="#">افزودن</a></div>
                    </div>
                  </div> -->
    
                </div>
              </div>
            </div>
          </div>
    
        </div>
      </div>
    <!-- Container-fluid starts-->
    <div class="container-fluid">
      <div class="row project-cards">
        <div class="col-md-12 project-list">
          <div class="card">
            <div class="row">
              <div class="col-md-6 p-0">
                <ul class="nav nav-tabs border-tab" id="top-tab" role="tablist">
                  <li class="nav-item"><a class="nav-link active" id="top-home-tab" data-bs-toggle="tab" href="#top-home" role="tab" aria-controls="top-home" aria-selected="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-target"><circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="6"></circle><circle cx="12" cy="12" r="2"></circle></svg>ثبت اطلاعات اولیه</a></li>
                  <li class="nav-item"><a class="nav-link" id="profile-top-tab" data-bs-toggle="tab" href="#top-profile" role="tab" aria-controls="top-profile" aria-selected="false"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-info"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12" y2="8"></line></svg>تعیین نوع خروج کالا</a></li>
                  <li class="nav-item"><a class="nav-link" id="contact-top-tab" data-bs-toggle="tab" href="#top-contact" role="tab" aria-controls="top-contact" aria-selected="false"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-check-circle"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg>انجام شده</a></li>
                </ul>
              </div>
              <div class="col-md-6 p-0">
                <div class="form-group mb-0 me-0"></div><a class="btn btn-primary" routerLink="./workflows/new/sendout"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus-square"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line></svg>ثبت خروج کالا</a>
              </div>
            </div>
          </div>
        </div>
        <div class="col-sm-12">
          <div class="card">
            <div class="card-body">
              <div class="tab-content" id="top-tabContent">
                <div class="tab-pane fade show active" id="top-home" role="tabpanel" aria-labelledby="top-home-tab">
                  <div class="row">
                    <div class="job-search">
                      <div class="card-body pb-0">
                        
                        <div class="job-description">
                          
                          <!-- <h6 class="mb-0">تحصیلات شما</h6> -->
                          <form class="form theme-form">
                            <div class="row">
                              <div class="col-sm-6 xl-100 xl-mt-job">

                              <div class="col-xl-6 xl-100">
                                <div class="form-group">
                                  <label class="form-label" for="exampleFormControlInput5">از : </label>
                                  <select id="FromShippingPointSelect" [(ngModel)]="selectedFromShippingPointId" >
                                  <!-- <option value="" disabled>انتخاب فرآیند خروج کالا</option> -->
                                    <option *ngFor="let shippingPoint of shippingPoints$ | async" [value]="shippingPoint.id">
                                      {{ shippingPoint.name }}
                                    </option>
                                  </select>
                                </div>
                              </div>
                              </div>
                                       <div class="col-sm-6 xl-100 xl-mt-job">

                              <div class="col-xl-6 xl-100">
                                <div class="form-group">
                                  <label class="form-label" for="exampleFormControlInput5">به : </label>
                                  <select id="ToShippingPointSelect" [(ngModel)]="selectedToShippingPointId" >
                                  <!-- <option value="" disabled>انتخاب فرآیند خروج کالا</option> -->
                                    <option *ngFor="let shippingPoint of shippingPoints$ | async" [value]="shippingPoint.id">
                                      {{ shippingPoint.name }}
                                    </option>
                                  </select>
                                </div>
                              </div>
                              </div>
                              <div class="col-sm-6 xl-100 xl-mt-job">

                              <div class="col-xl-6 xl-100">
                                <div class="form-group">
                                  <label class="form-label" for="exampleFormControlInput5">خارج کننده : </label>
                                  <select class="form-select" >
                                    <option>علی شادمهر - کارشناس خرید خدمات</option>
                                    <option>فرهاد بهرامیان - تکنسین پشتیبانی سخت افزار</option>
                                  </select>
                                </div>
                              </div>
                              </div>
                              <div class="col-sm-6 xl-100 xl-mt-job">
                          
                                <div class="col-xl-6 xl-100">
                                  <div class="form-group">
                                    <label class="form-label" for="exampleFormControlInput5">نوع خروج : </label>
                                       <select [(ngModel)]="selectedSendOutType">
                                          <option *ngFor="let type of SendOutTypes" [ngValue]="type">
                                              {{ SendOutTypeLabels[type] }}
                                          </option>
                                        </select>
                                  </div>
                                </div>
                                
                              </div>
                              <div class="col-xl-6 xl-100 xl-mt-job">

                              <div class="col-xl-6 xl-100">
                                <div class="form-group">
                                  <label class="form-label" for="exampleFormControlInput5">گروه کالا: </label>
                                     <select [(ngModel)]="selectedProductGroupType">
                                          <option *ngFor="let type of ProductGroupTypes" [ngValue]="type">
                                              {{ ProductGroupTypeLabels[type] }}
                                          </option>
                                      </select>
                                </div>
                              </div>
                              </div>
                              <div class="col-xl-6 xl-100 xl-mt-job">

                                <div class="col-xl-6 xl-100">
                                  <div class="form-group">
                                    <label class="form-label" for="exampleFormControlInput5">انتخاب انبار: </label>
                                     <select [(ngModel)]="selectedProductInventoryType">
                                          <option *ngFor="let type of ProductGroupTypes" [ngValue]="type">
                                              {{ ProductGroupTypeLabels[type] }}
                                          </option>
                                      </select>
                                  </div>
                                </div>
                              </div>
                              <div class="col-xl-6 xl-100 xl-mt-job">

                                <div class="col-xl-6 xl-100">
                                  <div class="form-group">
                                    <label class="form-label" for="exampleFormControlInput5">کد اموال: </label>
                                    <input #processStepDesc class="form-control" type="text" placeholder="" />

                                  </div>
                                </div>
                              </div>
                              <div class="col-xl-6 xl-100 xl-mt-job">

                                <div class="col-xl-6 xl-100">
                                  <div class="form-group">
                                    <label class="form-label" for="exampleFormControlInput5">توضیحات: </label>
                                    <input #processStepDesc class="form-control" type="text" placeholder="" />

                                  </div>
                                </div>
                              </div>
                              <div class="col-xl-6 xl-100 xl-mt-job">

                                <div class="col-xl-6 xl-100">
                                  <div class="form-group">
                                    <label class="form-label" for="exampleFormControlInput5">مشخصات فنی: </label>
                                    <input #processStepDesc class="form-control" type="text" placeholder="" />

                                  </div>
                                </div>
                              </div>
                              <div class="col-xl-6 xl-100 xl-mt-job">

                                <div class="col-xl-6 xl-100">
                                  <div class="form-group">
                                    <label class="form-label" for="exampleFormControlInput5">واحد اندازه گیری: </label>
                                    <input #processStepDesc class="form-control" type="text" placeholder="" />

                                  </div>
                                </div>
                              </div>
                              <div class="col-xl-6 xl-100 xl-mt-job">

                                <div class="col-xl-6 xl-100">
                                  <div class="form-group">
                                    <label class="form-label" for="exampleFormControlInput5">تعداد: </label>
                                    <input #processStepDesc class="form-control" type="number" placeholder="" />

                                  </div>
                                </div>
                              </div>
                              <div class="col-xl-6 xl-100 xl-mt-job">

                                <div class="col-xl-6 xl-100">
                                  <div class="form-group">
                                    <label class="form-label" for="exampleFormControlInput5">جنس مدل: </label>
                                    <input #processStepDesc class="form-control" type="text" placeholder="" />

                                  </div>
                                </div>
                              </div>
                              <div class="col-xl-6 xl-100 xl-mt-job">

                                <div class="col-xl-6 xl-100">
                                  <div class="form-group">
                                    <label class="form-label" for="exampleFormControlInput5">وزن مدل فومی: </label>
                                    <input #processStepDesc class="form-control" type="text" placeholder="" />

                                  </div>
                                </div>
                              </div>
                              <div class="col-xl-6 xl-100 xl-mt-job">

                                <div class="col-xl-6 xl-100">
                                  <div class="form-group">
                                    <label class="form-label" for="exampleFormControlInput5">تاریخ بازگشت: </label>
                                    <div class="input-group">
                                      <input class="datepicker9 form-control digits pwt-datepicker-input-element" type="text">
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </form>
                      
                        </div>
                      </div>
                      <div class="card-footer">
                        <button class="btn btn-primary" type="submit">ادامه</button>
                        <!-- <input class="btn btn-light" type="reset" value="لغو"> -->
                      </div>
                    </div>
                  </div>
                </div>
         
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Container-fluid Ends-->
  </div>
<div class="modal fade" id="exampleModalLong" tabindex="-1" aria-labelledby="exampleModalLongTitle" aria-hidden="true" style="display: none;">
                    <div class="modal-dialog" role="document">
                      <div class="modal-content">
                        <div class="modal-header">
                          <h5 class="modal-title" id="exampleModalLongTitle">نمایش فرآیند {{selectedFlowchart?.name}}</h5>
                          <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close" data-bs-original-title="" title=""></button>
                        </div>
                        <div class="modal-body">
                                        <div #mermaidContainer class="mermaid"></div>

                        </div>
                        <div class="modal-footer">
                          <button class="btn btn-secondary" type="button" data-bs-dismiss="modal" data-bs-original-title="" title="">بستن</button>
                        </div>
                      </div>
                    </div>
                  </div>

